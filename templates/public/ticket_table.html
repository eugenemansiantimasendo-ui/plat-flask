{% extends "plat/base_client.html" %}
{% block title %}Ticket de Réservation{% endblock %}

{% block content %}
<div class="container mt-5 text-center">
  <div class="card shadow-lg p-4">
    <h2 class="text-success mb-3">🎟️ Ticket de Réservation</h2>

    <p><strong>Nom :</strong> {{ reservation.nom_client }} {{ reservation.prenom_client }}</p>
    <p><strong>Email :</strong> {{ reservation.email_client }}</p>
    <p><strong>Téléphone :</strong> {{ reservation.telephone }}</p>
    <p><strong>Date :</strong> {{ reservation.date_reservation.strftime("%d/%m/%Y") }}</p>
    <p><strong>Heure :</strong> {{ reservation.heure_reservation.strftime("%H:%M") }}</p>
    <p><strong>Nombre de personnes :</strong> {{ reservation.nombre_personnes }}</p>
    <p><strong>Statut :</strong> {{ reservation.status }}</p>

    <div class="mt-3">
      <img src="{{ qr_base64 }}" alt="QR Code" width="200">
      <p class="mt-2 text-muted">Présentez ce QR Code à votre arrivée</p>
    </div>

    <div class="mt-4">
      <a href="{{ url_for('reservation_public.ticket_pdf', reservation_id=reservation.id_reservation) }}" class="btn btn-outline-primary">
        📥 Télécharger le ticket PDF
      </a>
      <button onclick="window.print()" class="btn btn-success">🖨️ Imprimer</button>
    </div>
  </div>
</div>
{% endblock %}
